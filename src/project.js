window.__require=function e(t,i,n){function c(o,s){if(!i[o]){if(!t[o]){var a=o.split("/");if(a=a[a.length-1],!t[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+o+"'")}o=a}var h=i[o]={exports:{}};t[o][0].call(h.exports,function(e){return c(t[o][1][e]||e)},h,h.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof __require&&__require,o=0;o<n.length;o++)c(n[o]);return c}({GameOver:[function(e,t,i){"use strict";cc._RF.push(t,"8527bfj7Z1HeaWYtwOibRzo","GameOver"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(e){}}),cc._RF.pop()},{}],NumberImg:[function(e,t,i){"use strict";cc._RF.push(t,"dd2b1lcrghEnaVBjzRMf3BG","NumberImg"),cc.Class({extends:cc.Component,properties:{score_imgs:{default:[],type:cc.SpriteFrame}},start:function(){},update:function(e){},setNum:function(e){this.node.getComponent(cc.Sprite).spriteFrame=this.score_imgs[e]}}),cc._RF.pop()},{}],Score:[function(e,t,i){"use strict";function n(e,t){return o(e)||r(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,c=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){c=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(c)throw r}}return i}}function o(e){if(Array.isArray(e))return e}cc._RF.push(t,"1b5faFpPIZL8Ziy8chmG71E","Score"),cc.Class({extends:cc.Component,name:"Score",properties:{socre_prefab:{default:null,type:cc.Prefab}},onLoad:function(){cc.log("score load.."),this.scoreNum=0;var e=cc.instantiate(this.socre_prefab);e.setName("number1"),e.x=32,this.node.addChild(e),e.getComponent("NumberImg").setNum(this.scoreNum),this.number2=cc.instantiate(this.socre_prefab),this.number2.setName("number2"),this.number2.active=!1,this.node.addChild(this.number2),this.number2.getComponent("NumberImg").setNum(this.scoreNum),this.number3=cc.instantiate(this.socre_prefab),this.number3.setName("number3"),this.number3.x=-32,this.number3.active=!1,this.node.addChild(this.number3),this.number3.getComponent("NumberImg").setNum(this.scoreNum),this.number1=e.getComponent("NumberImg"),cc.log("score load..over"),cc.log("score: "+this.node.getSiblingIndex()),this.node.zIndex=100},start:function(){},setScore:function(e){var t=n((e+"").split("").reverse(),3),i=t[0],c=t[1],r=t[2];if(this.number1.setNum(i),e>9){var o=this.node.getChildByName("number2");o.active=!0,o.getComponent("NumberImg").setNum(c)}if(e>99){var s=this.node.getChildByName("number3");s.active=!0,s.getComponent("NumberImg").setNum(r)}}}),cc._RF.pop()},{}],bird:[function(e,t,i){"use strict";cc._RF.push(t,"4540afMi7JKoKXEi2Q7B7bO","bird"),cc.Class({extends:cc.Component,name:"bird",properties:{timelineNum:0,changeHeight:!1,flyUpTime:0,bird_fly_img:{default:[],type:cc.SpriteFrame},getSocreAudio:{default:null,type:cc.AudioClip}},start:function(){this.speed=200,this.g=-120,this.lastHeight=10},update:function(e){if(!this.isDead){this.timelineNum+=e;var t=Math.floor(this.timelineNum/.2)%3;if(this.node.getComponent(cc.Sprite).spriteFrame=this.bird_fly_img[t],this.changeHeight){this.flyUpTime+=e;var i=1*this.flyUpTime.toFixed(3),n=1*(this.speed*i).toFixed(3)+1*(1*Math.pow(i,2).toFixed(3)*this.g).toFixed(3);this.node.y=this.lastHeight+n}}},flyUp:function(){this.changeHeight=!0,this.flyUpTime=0,this.lastHeight=this.node.y,this.node.angle=0;var e=cc.sequence(cc.rotateTo(0,0),cc.rotateBy(.35,15),cc.rotateBy(.25,15),cc.rotateBy(.233,15),cc.rotateBy(.833,-45));this.node.runAction(e),cc.audioEngine.play(this.getSocreAudio,!1,.05),cc.log("flyup...."+this.isDead)},fallDown:function(e){this.isDead=!0,this.node.runAction(cc.sequence(cc.rotateTo(.5,90),cc.moveTo(((360+this.node.y)/360).toFixed(2),this.node.x,-330))),cc.log("fallDown over...")}}),cc._RF.pop()},{}],gameRun:[function(e,t,i){"use strict";cc._RF.push(t,"47792I1TWVAfKcVTkMu5DiJ","gameRun"),cc.Class({extends:cc.Component,properties:{pipe:{default:null,type:cc.Prefab},score:0,getSocreAudio:{default:null,type:cc.AudioClip},speed:null},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.find("Canvas/PalySprite/Bird").getComponent("bird").flyUp()},this);var e=this.node.getChildByName("GameOver");e.zIndex=100,e.active=!1},start:function(){var e=this;this.schedule(function(){this.gameOver||e.createNewPipe()},3),this.score=0,this.gameOver=!1,this.speed=6},createNewPipe:function(){var e=cc.instantiate(this.pipe);this.node.addChild(e);var t=cc.moveBy(this.speed,-800,0);e.runAction(cc.sequence(t,cc.callFunc(function(){e.destroy()},e,{})))},update:function(e){if(!this.gameOver)for(var t=this.node.getChildByName("Bird"),i=this.node.children,n=0;n<i.length;++n){var c=i[n];if("WaterPipe"==c.name&&t.x+68>=c.x&&!c.cross)if(cc.find("Canvas/PalySprite/WaterPipe").getComponent("waterPipe").isHump(t.y))this.gameOver=!0,this.stopRun(),this.node.pauseSystemEvents(!1),cc.find("Canvas/PalySprite/Bird").getComponent("bird").fallDown(function(){cc.log("game over...")});else c.cross=!0,this.score++,this.node.getChildByName("Score").getComponent("Score").setScore(this.score),cc.audioEngine.play(this.getSocreAudio,!1,1),this.changeSpeed()}},stopRun:function(){for(var e=this.node.children,t=0;t<e.length;++t){var i=e[t];"WaterPipe"==i.name&&i.pauseAllActions()}this.node.getChildByName("GameOver").active=!0},changeSpeed:function(){this.score%20==19&&(this.speed=this.speed-.1)},replay:function(){cc.director.loadScene("playScene")},contiuePaly:function(){}}),cc._RF.pop()},{}],startSprite:[function(e,t,i){"use strict";cc._RF.push(t,"62b0es99IpPMr+KBxAdSyaS","startSprite"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this.node.getChildByName("Bird"),t=cc.sequence(cc.moveBy(1,e.x,100),cc.moveBy(1,e.x,-100)),i=cc.repeatForever(t);e.runAction(i)},startClick:function(){cc.log("\u70b9\u51fb\u4e86\u5f00\u59cb"),cc.director.loadScene("playScene")}}),cc._RF.pop()},{}],waterPipe:[function(e,t,i){"use strict";cc._RF.push(t,"3e9129pZUFMDrUB5u0O6cCk","waterPipe"),cc.Class({extends:cc.Component,properties:{height:0},onLoad:function(){this.setGapHeight()},start:function(){},update:function(e){},setGapHeight:function(){this.height=Math.round(520*Math.random())-260;var e=this.node.getChildByName("PipeUp"),t=this.node.getChildByName("PipeDown");e.height=e.height+this.height,t.height=t.height-this.height},isHump:function(e){var t=480-(320-this.height);return e<=320+this.height+120-480+30||e>=t-30}}),cc._RF.pop()},{}]},{},["GameOver","NumberImg","Score","bird","gameRun","startSprite","waterPipe"]);